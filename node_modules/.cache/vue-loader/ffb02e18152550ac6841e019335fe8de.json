{"remainingRequest":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\src\\views\\mine\\Mystars.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\src\\views\\mine\\Mystars.vue","mtime":1611584334658},{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1611243313106},{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\babel-loader\\lib\\index.js","mtime":1611243312813},{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1611243313106},{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js","mtime":1611243323428}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQoJZGF0YSgpIHsNCgkJcmV0dXJuIHsNCgkJCW15U3RhcnM6IFtdLA0KCQl9Ow0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICBjYW5jbGVTdGFyKHBvcyxhcnRpY2xlaWQsIGluZGV4KXsNCiAgICAgICAgICAgIGlmKHBvcyA9PSAncmlnaHQnKXsNCiAgICAgICAgICAgICAgICB0aGlzLmF4aW9zDQogICAgICAgICAgICAgICAgICAgIC5wb3N0KCIvY2FuY2xlc3RhciIsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFydGljbGVpZDogcGFyc2VJbnQoYXJ0aWNsZWlkKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJpZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8udXNlcl9pZCwNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdChyZXMuZGF0YS5tZXNzYWdlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKHJlYXNvbiA9PiBjb25zb2xlLmxvZyhyZWFzb24pKTsNCiAgICAgICAgICAgICAgICB0aGlzLm15U3RhcnMuc3BsaWNlKGluZGV4LCAxKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSwNCgltb3VudGVkKCkgew0KCQlpZiAodGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8pIHsNCgkJCXRoaXMuYXhpb3MNCgkJCQkuZ2V0KCIvZ2V0bXlzdGFycyIsIHsNCgkJCQkJcGFyYW1zOiB7DQoJCQkJCQl1c2VyaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnVzZXJfaWQsDQoJCQkJCX0sDQoJCQkJfSkNCgkJCQkudGhlbihyZXMgPT4gew0KCQkJCQlpZiAocmVzLmRhdGEuY29kZSA9PSAwKSB7DQoJCQkJCQl0aGlzLm15U3RhcnMgPSByZXMuZGF0YS5kYXRhOw0KCQkJCQl9DQoJCQkJfSkuY2F0Y2gocmVhc29uPT5jb25zb2xlLmxvZyhyZWFzb24pKQ0KCQl9DQoJfSwNCn07DQo="},{"version":3,"sources":["Mystars.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Mystars.vue","sourceRoot":"src/views/mine","sourcesContent":["<template>\r\n\t<div id=\"my-stars\">\r\n\t\t<my-navbar title=\"我的收藏\"></my-navbar>\r\n\t\t<div class=\"article-box\" v-if=\"myStars.length > 0\">\r\n            <van-swipe-cell @click=\"cancleStar($event, item.articleid, index)\" v-for=\"(item, index) of myStars\"\r\n\t\t\t\t:key=\"index\">\r\n\t\t\t<article-list\r\n\t\t\t\t:title=\"item.subject\"\r\n\t\t\t\t:content=\"item.description\"\r\n\t\t\t\t:imgurl=\"item.img\"\r\n\t\t\t\t:url=\"`/article/${item.articleid}`\"\r\n\t\t\t></article-list>\r\n            <template #right>\r\n\t\t\t\t\t<van-button\r\n\t\t\t\t\t\tsquare\r\n\t\t\t\t\t\ttext=\"取消收藏\"\r\n\t\t\t\t\t\ttype=\"danger\"\r\n\t\t\t\t\t\tclass=\"delete-button\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</template>\r\n            </van-swipe-cell>\r\n\t\t</div>\r\n        <div v-else>\r\n\t\t\t<no-data msg=\"暂无收藏文章\"></no-data>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tmyStars: [],\r\n\t\t};\r\n    },\r\n    methods: {\r\n        cancleStar(pos,articleid, index){\r\n            if(pos == 'right'){\r\n                this.axios\r\n                    .post(\"/canclestar\", {\r\n                        articleid: parseInt(articleid),\r\n                        userid: this.$store.state.userInfo.user_id,\r\n                    })\r\n                    .then(res => {\r\n                        if (res.data.code == 0) {\r\n                            this.$toast(res.data.message);\r\n                        }\r\n                    })\r\n                    .catch(reason => console.log(reason));\r\n                this.myStars.splice(index, 1)\r\n            }\r\n        }\r\n    },\r\n\tmounted() {\r\n\t\tif (this.$store.state.userInfo) {\r\n\t\t\tthis.axios\r\n\t\t\t\t.get(\"/getmystars\", {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tuserid: this.$store.state.userInfo.user_id,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\tthis.myStars = res.data.data;\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(reason=>console.log(reason))\r\n\t\t}\r\n\t},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#my-stars .delete-button {\r\n    height: 100%;\r\n    background-color: red;\r\n    border: 0;\r\n    color: #fff;\r\n  }\r\n</style>\r\n"]}]}