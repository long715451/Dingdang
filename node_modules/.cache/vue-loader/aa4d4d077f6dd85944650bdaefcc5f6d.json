{"remainingRequest":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\src\\views\\mine\\MyFollows.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\src\\views\\mine\\MyFollows.vue","mtime":1611578581039},{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610353155479},{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\babel-loader\\lib\\index.js","mtime":1610353154995},{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610353155479},{"path":"C:\\Users\\web\\Desktop\\myGit\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js","mtime":1610353179708}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQoJZGF0YSgpIHsNCgkJcmV0dXJuIHsNCgkJCW15Rm9sbG93czogW10sDQoJCX07DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIGNhbmNsZWZvbGxvdyhwb3MsZG9jdG9yaWQsIGluZGV4KXsNCiAgICAgICAgICAgIGlmKHBvcyA9PSAncmlnaHQnKXsNCiAgICAgICAgICAgICAgICB0aGlzLmF4aW9zLnBvc3QoJy9jYW5jbGVmb2xsb3cnLCB7DQogICAgICAgICAgICAgICAgICAgIGRvY3RvcmlkOiBwYXJzZUludChkb2N0b3JpZCksDQogICAgICAgICAgICAgICAgICAgIHVzZXJpZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8udXNlcl9pZA0KICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzPT57DQogICAgICAgICAgICAgICAgICAgIGlmKHJlcy5kYXRhLmNvZGUgPT0gMCl7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdChyZXMuZGF0YS5tZXNzYWdlKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkuY2F0Y2gocmVhc29uPT5jb25zb2xlLmxvZyhyZWFzb24pKQ0KICAgICAgICAgICAgICAgIHRoaXMubXlGb2xsb3dzLnNwbGljZShpbmRleCwgMSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0sDQoJbW91bnRlZCgpIHsNCgkJaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvKSB7DQoJCQl0aGlzLmF4aW9zDQoJCQkJLmdldCgiL2dldGZvbGxvd2lkIiwgew0KCQkJCQlwYXJhbXM6IHsNCgkJCQkJCXVzZXJpZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8udXNlcl9pZCwNCgkJCQkJfSwNCgkJCQl9KQ0KCQkJCS50aGVuKHJlcyA9PiB7DQoJCQkJCWlmIChyZXMuZGF0YS5jb2RlID09IDApIHsNCgkJCQkJCXRoaXMubXlGb2xsb3dzID0gcmVzLmRhdGEuZGF0YTsNCgkJCQkJfQ0KCQkJCX0pOw0KCQl9DQoJfSwNCn07DQo="},{"version":3,"sources":["MyFollows.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyFollows.vue","sourceRoot":"src/views/mine","sourcesContent":["<template>\r\n\t<div id=\"my-follows\">\r\n\t\t<my-navbar title=\"我关注的医生\"></my-navbar>\r\n\r\n\t\t<div class=\"follow-box\" v-if=\"myFollows.length > 0\">\r\n\t\t\t<van-swipe-cell v-for=\"(item, index) of myFollows\"\r\n\t\t\t\t\t:key=\"index\"\r\n                    @click=\"canclefollow($event, item.doctorid, index)\">\r\n\t\t\t\t<doctor-card\r\n\t\t\t\t\t:doctorid=\"item.doctorid\"\r\n\t\t\t\t\t\r\n\t\t\t\t></doctor-card>\r\n\t\t\t\t<template #right>\r\n\t\t\t\t\t<van-button\r\n\t\t\t\t\t\tsquare\r\n\t\t\t\t\t\ttext=\"取消关注\"\r\n\t\t\t\t\t\ttype=\"danger\"\r\n\t\t\t\t\t\tclass=\"delete-button\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</template>\r\n\t\t\t</van-swipe-cell>\r\n\t\t</div>\r\n\t\t<div v-else>\r\n\t\t\t<no-data msg=\"暂无关注医生\"></no-data>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tmyFollows: [],\r\n\t\t};\r\n    },\r\n    methods: {\r\n        canclefollow(pos,doctorid, index){\r\n            if(pos == 'right'){\r\n                this.axios.post('/canclefollow', {\r\n                    doctorid: parseInt(doctorid),\r\n                    userid: this.$store.state.userInfo.user_id\r\n                }).then(res=>{\r\n                    if(res.data.code == 0){\r\n                        this.$toast(res.data.message)\r\n                    }\r\n                }).catch(reason=>console.log(reason))\r\n                this.myFollows.splice(index, 1)\r\n            }\r\n        }\r\n    },\r\n\tmounted() {\r\n\t\tif (this.$store.state.userInfo) {\r\n\t\t\tthis.axios\r\n\t\t\t\t.get(\"/getfollowid\", {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tuserid: this.$store.state.userInfo.user_id,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\tthis.myFollows = res.data.data;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t},\r\n};\r\n</script>\r\n\r\n<style>\r\n#my-follows .delete-button {\r\n    height: 100%;\r\n    background-color: red;\r\n    border: 0;\r\n    color: #fff;\r\n  }\r\n\r\n</style>\r\n"]}]}