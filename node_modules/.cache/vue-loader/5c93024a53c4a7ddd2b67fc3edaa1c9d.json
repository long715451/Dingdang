{"remainingRequest":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\src\\views\\jkbk\\Article.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\src\\views\\jkbk\\Article.vue","mtime":1611889047901},{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1611243313106},{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1611243321878},{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\babel-loader\\lib\\index.js","mtime":1611243312813},{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1611243313106},{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js","mtime":1611243323428}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBEaWFsb2cgfSBmcm9tICJ2YW50IjsNCmV4cG9ydCBkZWZhdWx0IHsNCglkYXRhKCkgew0KCQlyZXR1cm4gew0KICAgICAgICAgICAgaGFzQ29udGVudDogdHJ1ZSwNCgkJCWlzU3RhcnRlZDogZmFsc2UsDQoJCQlhcnRpY2xlRGV0YWlsczoge30sDQoJCX07DQoJfSwNCgltb3VudGVkKCkgew0KCQkvLyDojrflj5bot6/nlLHkvKDpgJLnmoTlj4LmlbDlj5HpgIHor7fmsYLojrflj5blr7nlupTmlofnq6BpZOeahOaVsOaNruivt+axguWcsOWdgA0KCQlsZXQgdmFsID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOw0KCQl0aGlzLmF4aW9zDQoJCQkuZ2V0KCIvYXJ0aWNsZURhdGEiLCB7DQoJCQkJcGFyYW1zOiB7DQoJCQkJCWlkOiB2YWwsDQoJCQkJfSwNCgkJCX0pDQoJCQkudGhlbihyZXN1bHQgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuYXJ0aWNsZURldGFpbHMgPSByZXN1bHQuZGF0YS5kYXRhWzBdOw0KICAgICAgICAgICAgICAgIGlmKHRoaXMuYXJ0aWNsZURldGFpbHMuY29udGVudCA9PSAn56m6Jyl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzQ29udGVudCA9IGZhbHNlDQogICAgICAgICAgICAgICAgfQ0KCQkJfSk7DQoJCWlmICh0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mbykgew0KCQkJdGhpcy5heGlvcw0KCQkJCS5nZXQoDQoJCQkJCWAvcXVlcnlpc3N0YXJlZD9hcnRpY2xlaWQ9JHt0aGlzLiRyb3V0ZS5wYXJhbXMuaWR9JnVzZXJpZD0ke3RoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnVzZXJfaWR9YA0KCQkJCSkNCgkJCQkudGhlbihyZXMgPT4gew0KCQkJCQlpZiAocmVzLmRhdGEuZGF0YS5udW0gPiAwKSB7DQoJCQkJCQl0aGlzLmlzU3RhcnRlZCA9IHRydWU7DQoJCQkJCX0NCgkJCQl9KTsNCgkJfQ0KCX0sDQoJbWV0aG9kczogew0KCQl0b2dnbGVTdGFyKCkgew0KCQkJaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvKSB7DQoJCQkJaWYgKHRoaXMuaXNTdGFydGVkKSB7DQoJCQkJCXRoaXMuYXhpb3MNCgkJCQkJCS5wb3N0KCIvY2FuY2xlc3RhciIsIHsNCgkJCQkJCQlhcnRpY2xlaWQ6IHBhcnNlSW50KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCksDQoJCQkJCQkJdXNlcmlkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mby51c2VyX2lkLA0KCQkJCQkJfSkNCgkJCQkJCS50aGVuKHJlcyA9PiB7DQoJCQkJCQkJaWYgKHJlcy5kYXRhLmNvZGUgPT0gMCkgew0KCQkJCQkJCQl0aGlzLiR0b2FzdChyZXMuZGF0YS5tZXNzYWdlKTsNCgkJCQkJCQl9DQoJCQkJCQl9KQ0KCQkJCQkJLmNhdGNoKHJlYXNvbiA9PiBjb25zb2xlLmxvZyhyZWFzb24pKTsNCgkJCQl9IGVsc2Ugew0KCQkJCQl0aGlzLmF4aW9zDQoJCQkJCQkucG9zdCgiL2dvdG9zdGFyIiwgew0KCQkJCQkJCWFydGljbGVpZDogcGFyc2VJbnQodGhpcy4kcm91dGUucGFyYW1zLmlkKSwNCgkJCQkJCQl1c2VyaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnVzZXJfaWQsDQoJCQkJCQl9KQ0KCQkJCQkJLnRoZW4ocmVzID0+IHsNCgkJCQkJCQlpZiAocmVzLmRhdGEuY29kZSA9PSAwKSB7DQoJCQkJCQkJCXRoaXMuJHRvYXN0KHJlcy5kYXRhLm1lc3NhZ2UpOw0KCQkJCQkJCX0NCgkJCQkJCX0pDQoJCQkJCQkuY2F0Y2gocmVhc29uID0+IGNvbnNvbGUubG9nKHJlYXNvbikpOw0KCQkJCX0NCgkJCQl0aGlzLmlzU3RhcnRlZCA9ICF0aGlzLmlzU3RhcnRlZDsNCgkJCX0gZWxzZSB7DQoJCQkJRGlhbG9nLmNvbmZpcm0oew0KCQkJCQl0aXRsZTogIuacqueZu+W9lSIsDQoJCQkJCW1lc3NhZ2U6ICLmmK/lkKbliY3lvoDnmbvlvZXvvJ8iLA0KCQkJCX0pDQoJCQkJCS50aGVuKCgpID0+IHsNCgkJCQkJCXRoaXMuJHJvdXRlci5wdXNoKCIvbG9naW4iKTsNCgkJCQkJfSkNCgkJCQkJLmNhdGNoKCgpID0+IHsNCgkJCQkJCS8vIG9uIGNhbmNlbA0KCQkJCQl9KTsNCgkJCX0NCgkJfSwNCgl9LA0KfTsNCg=="},{"version":3,"sources":["Article.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Article.vue","sourceRoot":"src/views/jkbk","sourcesContent":["<template>\r\n\t<div class=\"article-detail\">\r\n\t\t<!-- 导航头部开始 -->\r\n\t\t<my-navbar title=\"文章详情\"></my-navbar>\r\n\t\t<!-- 导航头部结束 -->\r\n\r\n\t\t<div class=\"article-title\">\r\n\t\t\t{{ articleDetails.subject }}\r\n\t\t</div>\r\n\r\n\t\t<!-- 文章盒子开始 -->\r\n\t\t<div class=\"article\" v-html=\"articleDetails.content\" v-if=\"hasContent\"></div>\r\n        <no-data msg=\"暂无文章数据\" v-else></no-data>\r\n\t\t<!-- 文章盒子结束 -->\r\n\t\t<div class=\"star\" @click=\"toggleStar\">\r\n\t\t\t<van-icon size=\"20px\" name=\"star-o\" v-if=\"!isStarted\" />\r\n\t\t\t<van-icon size=\"20px\" color=\"#00c792\" name=\"star\" v-else />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport { Dialog } from \"vant\";\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n            hasContent: true,\r\n\t\t\tisStarted: false,\r\n\t\t\tarticleDetails: {},\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\t// 获取路由传递的参数发送请求获取对应文章id的数据请求地址\r\n\t\tlet val = this.$route.params.id;\r\n\t\tthis.axios\r\n\t\t\t.get(\"/articleData\", {\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tid: val,\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t.then(result => {\r\n                this.articleDetails = result.data.data[0];\r\n                if(this.articleDetails.content == '空'){\r\n                    this.hasContent = false\r\n                }\r\n\t\t\t});\r\n\t\tif (this.$store.state.userInfo) {\r\n\t\t\tthis.axios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/queryisstared?articleid=${this.$route.params.id}&userid=${this.$store.state.userInfo.user_id}`\r\n\t\t\t\t)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.data.data.num > 0) {\r\n\t\t\t\t\t\tthis.isStarted = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\ttoggleStar() {\r\n\t\t\tif (this.$store.state.userInfo) {\r\n\t\t\t\tif (this.isStarted) {\r\n\t\t\t\t\tthis.axios\r\n\t\t\t\t\t\t.post(\"/canclestar\", {\r\n\t\t\t\t\t\t\tarticleid: parseInt(this.$route.params.id),\r\n\t\t\t\t\t\t\tuserid: this.$store.state.userInfo.user_id,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\t\t\tthis.$toast(res.data.message);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(reason => console.log(reason));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.axios\r\n\t\t\t\t\t\t.post(\"/gotostar\", {\r\n\t\t\t\t\t\t\tarticleid: parseInt(this.$route.params.id),\r\n\t\t\t\t\t\t\tuserid: this.$store.state.userInfo.user_id,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\t\t\tthis.$toast(res.data.message);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(reason => console.log(reason));\r\n\t\t\t\t}\r\n\t\t\t\tthis.isStarted = !this.isStarted;\r\n\t\t\t} else {\r\n\t\t\t\tDialog.confirm({\r\n\t\t\t\t\ttitle: \"未登录\",\r\n\t\t\t\t\tmessage: \"是否前往登录？\",\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tthis.$router.push(\"/login\");\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\t// on cancel\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.article-detail .star {\r\n\tposition: absolute;\r\n\ttop: 10px;\r\n\tright: 20px;\r\n\tz-index: 999;\r\n}\r\n\r\n.article-detail .article-title {\r\n\tpadding: 10px;\r\n\tcolor: #333;\r\n\tfont-size: 26px;\r\n\tfont-weight: 600;\r\n\tline-height: 1.5;\r\n}\r\n\r\n.article-detail .article >>> p span {\r\n\tfont-size: 14px;\r\n}\r\n\r\n.article-detail .article >>> p {\r\n\tmargin-top: 10px;\r\n\tfont-weight: 300;\r\n\tline-height: 30px;\r\n\tmargin-top: 10px;\r\n\tfont-size: 17px;\r\n}\r\n.article-detail .article >>> h2 {\r\n\tfont-size: 20px;\r\n\tfont-weight: 700;\r\n\tmargin: 10px 0;\r\n}\r\n\r\n.article-detail .article >>> img {\r\n\twidth: 100%;\r\n\tborder-radius: 5px;\r\n\tmargin: 10px 0;\r\n}\r\n.article-detail .article {\r\n\tpadding: 0 15px;\r\n\ttext-align: left;\r\n\toverflow: auto;\r\n\tcolor: #333;\r\n\tfont-weight: 300;\r\n\tfont-size: 12px;\r\n\tline-height: 32px;\r\n\tword-break: break-word;\r\n}\r\n</style>\r\n"]}]}