{"remainingRequest":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\src\\views\\ask\\Ask.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\src\\views\\ask\\Ask.vue","mtime":1611671517320},{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1611243313106},{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\babel-loader\\lib\\index.js","mtime":1611243312813},{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1611243313106},{"path":"C:\\Users\\Sakura\\Desktop\\前端页面\\myGit\\Dr.Dingdang\\node_modules\\vue-loader\\lib\\index.js","mtime":1611243323428}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS1idWZmZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnVpbnQ4LWFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuY29weS13aXRoaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5ldmVyeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lmxhc3QtaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UtcmlnaHQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZXZlcnNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb21lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnN1YmFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tbG9jYWxlLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkM6L1VzZXJzL1Nha3VyYS9EZXNrdG9wL1x1NTI0RFx1N0FFRlx1OTg3NVx1OTc2Mi9teUdpdC9Eci5EaW5nZGFuZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBUb2FzdCwgRGlhbG9nIH0gZnJvbSAidmFudCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVzc2FnZTogIiIsCiAgICAgIGZpbGVMaXN0OiBbXSwKICAgICAgaXNEZXNjU2hvdzogdHJ1ZSwKICAgICAgb3ZlcmxheVNob3c6IGZhbHNlCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGZpbGVMaXN0OiBmdW5jdGlvbiBmaWxlTGlzdChuZXdWYWwpIHsKICAgICAgaWYgKG5ld1ZhbC5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5pc0Rlc2NTaG93ID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc0Rlc2NTaG93ID0gdHJ1ZTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMubWVzc2FnZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJzeW1wdG9tRGVzYyIpOwogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Fza2RvYycsIHRoaXMuJHJvdXRlLnF1ZXJ5LmRvY3RvcmlkKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGJlZm9yZVJlYWQ6IGZ1bmN0aW9uIGJlZm9yZVJlYWQoZmlsZSkgewogICAgICBpZiAoZmlsZS50eXBlICE9PSAiaW1hZ2UvanBlZyIgJiYgZmlsZS50eXBlICE9PSAiaW1hZ2UvcG5nIikgewogICAgICAgIFRvYXN0KCLor7fkuIrkvKAganBnL3BuZyDmoLzlvI/lm77niYciKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKICAgIG9uT3ZlcnNpemU6IGZ1bmN0aW9uIG9uT3ZlcnNpemUoKSB7CiAgICAgIFRvYXN0KCLmlofku7blpKflsI/kuI3og73otoXov4cxME0iKTsKICAgIH0sCiAgICBzYXZlTXNnOiBmdW5jdGlvbiBzYXZlTXNnKCkgewogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgic3ltcHRvbURlc2MiLCB0aGlzLm1lc3NhZ2UpOwogICAgfSwKICAgIHNob3dBbnN3ZXI6IGZ1bmN0aW9uIHNob3dBbnN3ZXIoKSB7CiAgICAgIHRoaXMub3ZlcmxheVNob3cgPSB0cnVlOwogICAgfSwKICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvKSB7CiAgICAgICAgRGlhbG9nLmNvbmZpcm0oewogICAgICAgICAgdGl0bGU6ICLmnKrnmbvlvZUiLAogICAgICAgICAgbWVzc2FnZTogIuaYr+WQpuWJjeW+gOeZu+W9le+8nyIKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgey8vIG9uIGNhbmNlbAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMubWVzc2FnZS5sZW5ndGggPD0gMTApIHsKICAgICAgICBUb2FzdCgi6K+36Iez5bCR6L6T5YWlMTDkuKrlrZciKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwoKICAgICAgX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuZmlsZUxpc3QpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICB2YXIgYnl0ZVN0cmluZyA9IGF0b2IoaXRlbS5jb250ZW50LnJlcGxhY2UoL15kYXRhOmltYWdlXC9cdys7YmFzZTY0LC8sICIiKSk7CiAgICAgICAgdmFyIG1pbWVTdHJpbmcgPSBpdGVtLmNvbnRlbnQuc3BsaXQoIiwiKVswXS5zcGxpdCgiOiIpWzFdLnNwbGl0KCI7IilbMF07CiAgICAgICAgdmFyIGFiID0gbmV3IEFycmF5QnVmZmVyKGJ5dGVTdHJpbmcubGVuZ3RoKTsKICAgICAgICB2YXIgaWEgPSBuZXcgVWludDhBcnJheShhYik7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZVN0cmluZy5sZW5ndGg7IGkrKykgewogICAgICAgICAgaWFbaV0gPSBieXRlU3RyaW5nLmNoYXJDb2RlQXQoaSk7CiAgICAgICAgfQoKICAgICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtpYV0sIHsKICAgICAgICAgIHR5cGU6IG1pbWVTdHJpbmcKICAgICAgICB9KTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoInVwbG9hZEZpbGUiLCBibG9iLCBEYXRlLm5vdygpICsgIi5qcGciKTsKICAgICAgfSk7IC8vIFsuLi50aGlzLmZpbGVMaXN0XS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAvLyAgICAgZm9ybURhdGEuYXBwZW5kKCJ1cGxvYWRGaWxlIiwgaXRlbSk7CiAgICAgIC8vIH0pOwoKCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgidXNlcmlkIiwgdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8udXNlcl9pZCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZGVzYyIsIHRoaXMubWVzc2FnZSk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgiY3JlYXRlX2F0IiwgRGF0ZS5wYXJzZShuZXcgRGF0ZSgpKSk7CiAgICAgIHRoaXMuYXhpb3MucG9zdCgiL2VtZ2NhbGwvYWRkc3ltcHRvbWltZyIsIGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAwKSB7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc3ltaWQnLCByZXMuZGF0YS5kYXRhLnN5bXB0b21faWQpOwoKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL2Fzay9wYXRpZW50LWxpc3QiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgVG9hc3QocmVzLmRhdGEubWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVhc29uKTsKICAgICAgfSk7CiAgICB9LAogICAgY2xvc2VCdG46IGZ1bmN0aW9uIGNsb3NlQnRuKCkgewogICAgICB0aGlzLm92ZXJsYXlTaG93ID0gZmFsc2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Ask.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div id=\"symptom\">\r\n\t\t<my-navbar title=\"问医生\" />\r\n\t\t<div class=\"top\">\r\n\t\t\t<div class=\"plate\"><img src=\"@/assets/4.png\" /></div>\r\n\t\t\t<div class=\"plate2\">\r\n\t\t\t\t<p>导诊医生</p>\r\n\t\t\t\t<p class=\"texts\">\r\n\t\t\t\t\t请描述你的性别年龄、症状、就诊经历，我将竭诚为你治疗，并保证你的隐私安全\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<van-field\r\n\t\t\tv-model=\"message\"\r\n\t\t\ttype=\"textarea\"\r\n\t\t\tplaceholder=\"简要描述你的年龄、性别及症状，我们将为你接通对症的专科医生，并确保隐私安全\"\r\n\t\t\tmaxlength=\"500\"\r\n\t\t\tshow-word-limit\r\n\t\t\t@blur=\"saveMsg\"\r\n\t\t/>\r\n\r\n\t\t<div class=\"img-upload\">\r\n\t\t\t<van-uploader v-model=\"fileList\" :before-read=\"beforeRead\"\r\n            multiple :max-count=\"9\" :max-size=\"10 * 1024 * 1024\" @oversize=\"onOversize\" />\r\n\t\t\t<div class=\"uploader-description\" v-if=\"isDescShow\">\r\n\t\t\t\t上传图片辅助说明病情\r\n\t\t\t\t<br />\r\n\t\t\t\t可上传 9 张\r\n\t\t\t</div>\r\n\t\t\t<van-cell value=\" 无法上传图片？ \" @click=\"showAnswer\" />\r\n\t\t</div>\r\n\t\t<div class=\"next-btn\">\r\n\t\t\t<van-button size=\"large\" color=\"#00c792\" round @click=\"next\">下一步</van-button>\r\n\t\t</div>\r\n\t\t<van-overlay :show=\"overlayShow\">\r\n\t\t\t<div class=\"overlay-wrapper\">\r\n\t\t\t\t<div class=\"tit\">请提问后通过丁香医生App上传图片</div>\r\n\t\t\t\t<div class=\"desc\">\r\n\t\t\t\t\t由于第三方或浏览器版本限制，图片可能无法上传。请先提交问题。医生回复后，【下载丁香医生App在“我的问诊”内追问并上传图片】，点击下方链接进行下载（若无法下载，请复制链接到浏览器粘贴）\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<a src=\"https://app.dxy.cn/aspirin/index\">https://app.dxy.cn/aspirin/index</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"btn\" @click=\"closeBtn\">我知道了</div>\r\n\t\t\t</div>\r\n\t\t</van-overlay>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast, Dialog } from \"vant\";\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tmessage: \"\",\r\n\t\t\tfileList: [],\r\n\t\t\tisDescShow: true,\r\n\t\t\toverlayShow: false,\r\n\t\t};\r\n\t},\r\n\twatch: {\r\n\t\tfileList(newVal) {\r\n\t\t\tif (newVal.length > 0) {\r\n\t\t\t\tthis.isDescShow = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.isDescShow = true;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n        this.message = localStorage.getItem(\"symptomDesc\");\r\n        localStorage.setItem('askdoc', this.$route.query.doctorid)\r\n\t},\r\n\tmethods: {\r\n\t\tbeforeRead(file) {\r\n\t\t\tif (file.type !== \"image/jpeg\" && file.type !== \"image/png\") {\r\n\t\t\t\tToast(\"请上传 jpg/png 格式图片\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\tonOversize() {\r\n\t\t\tToast(\"文件大小不能超过10M\");\r\n\t\t},\r\n\t\tsaveMsg() {\r\n\t\t\tlocalStorage.setItem(\"symptomDesc\", this.message);\r\n\t\t},\r\n\t\tshowAnswer() {\r\n\t\t\tthis.overlayShow = true;\r\n\t\t},\r\n\t\tnext() {\r\n\t\t\tif (!this.$store.state.userInfo) {\r\n\t\t\t\tDialog.confirm({\r\n\t\t\t\t\ttitle: \"未登录\",\r\n\t\t\t\t\tmessage: \"是否前往登录？\",\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tthis.$router.push(\"/login\");\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\t// on cancel\r\n\t\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (this.message.length <= 10) {\r\n\t\t\t\tToast(\"请至少输入10个字\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tlet formData = new FormData();\r\n\r\n\t\t\t[...this.fileList].forEach((item) => {\r\n\t\t\t\tlet byteString = atob(item.content.replace(/^data:image\\/\\w+;base64,/, \"\"));\r\n\t\t\t\tlet mimeString = item.content\r\n\t\t\t\t\t.split(\",\")[0]\r\n\t\t\t\t\t.split(\":\")[1]\r\n\t\t\t\t\t.split(\";\")[0];\r\n\t\t\t\tlet ab = new ArrayBuffer(byteString.length);\r\n\t\t\t\tlet ia = new Uint8Array(ab);\r\n\t\t\t\tfor (var i = 0; i < byteString.length; i++) {\r\n\t\t\t\t\tia[i] = byteString.charCodeAt(i);\r\n\t\t\t\t}\r\n\t\t\t\tlet blob = new Blob([ia], { type: mimeString });\r\n\t\t\t\tformData.append(\"uploadFile\", blob, Date.now() + \".jpg\");\r\n\t\t\t});\r\n\t\t\t// [...this.fileList].forEach(item => {\r\n\t\t\t//     formData.append(\"uploadFile\", item);\r\n\t\t\t// });\r\n\t\t\tformData.append(\"userid\", this.$store.state.userInfo.user_id);\r\n\t\t\tformData.append(\"desc\", this.message);\r\n\t\t\tformData.append(\"create_at\", Date.parse(new Date()));\r\n\t\t\tthis.axios\r\n\t\t\t\t.post(\"/emgcall/addsymptomimg\", formData)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tif (res.data.code == 0) {\r\n                        localStorage.setItem('symid', res.data.data.symptom_id)\r\n\t\t\t\t\t\tthis.$router.push(\"/ask/patient-list\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tToast(res.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((reason) => {\r\n\t\t\t\t\tconsole.log(reason);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tcloseBtn() {\r\n\t\t\tthis.overlayShow = false;\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#symptom >>> .overlay-wrapper .btn::after {\r\n\tposition: absolute;\r\n\ttop: -1px;\r\n\tleft: 0;\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\theight: 1px;\r\n\tborder-top: 1px solid #d9d9d9;\r\n\t-webkit-transform: scaleY(0.5);\r\n\t-ms-transform: scaleY(0.5);\r\n\ttransform: scaleY(0.5);\r\n\t-webkit-transform-origin: 0 100%;\r\n\t-ms-transform-origin: 0 100%;\r\n\ttransform-origin: 0 100%;\r\n\tcontent: \"\";\r\n}\r\n\r\n#symptom >>> .overlay-wrapper .btn {\r\n\tposition: relative;\r\n\tcolor: #1a9f8c;\r\n\tpadding: 20px 0;\r\n}\r\n\r\n#symptom >>> .overlay-wrapper .desc a {\r\n\tcolor: #00c792;\r\n\ttext-decoration: none;\r\n\tline-height: 20px;\r\n}\r\n\r\n#symptom >>> .overlay-wrapper .desc {\r\n\tpadding: 15px 4%;\r\n\tcolor: #666;\r\n\tfont-size: 14px;\r\n\tword-wrap: break-word;\r\n\tword-break: break-all;\r\n\tline-height: 20px;\r\n}\r\n#symptom >>> .overlay-wrapper .tit {\r\n\tpadding-top: 10px;\r\n\tfont-weight: 400;\r\n\tfont-size: 16px;\r\n}\r\n\r\n#symptom >>> .overlay-wrapper {\r\n\tposition: fixed;\r\n\ttop: 50%;\r\n\tleft: 50%;\r\n\ttransform: translate(-50%, -50%);\r\n\tz-index: 112;\r\n\twidth: 86%;\r\n\tmax-width: 300px;\r\n\toverflow: hidden;\r\n\ttext-align: center;\r\n\tbackground-color: #fff;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n#symptom >>> .next-btn {\r\n\tbox-sizing: border-box;\r\n\tmargin-top: 50px;\r\n\twidth: 100%;\r\n\tpadding: 10px 16px;\r\n}\r\n\r\n#symptom >>> .img-upload .van-cell {\r\n\tpadding: 0;\r\n\tmargin-top: 10px;\r\n}\r\n\r\n#symptom >>> .img-upload .van-cell span {\r\n\tcolor: #00c792;\r\n\tfont-size: 12px;\r\n\tbackground-color: #fff;\r\n}\r\n\r\n#symptom > img {\r\n\twidth: 100%;\r\n}\r\n\r\n#symptom .img-upload {\r\n\tposition: relative;\r\n\tpadding: 4% 10px 4%;\r\n}\r\n\r\n#symptom .img-upload::after {\r\n\tcontent: \"\";\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\theight: 1px;\r\n\twidth: 100%;\r\n\tbackground-color: #ebebeb;\r\n\ttransform: scaleY(0.5);\r\n}\r\n\r\n#symptom .img-upload::after {\r\n\tbottom: 0;\r\n}\r\n\r\n#symptom >>> .img-upload .van-uploader__preview {\r\n\t/* flex: 0 0 0.25; */\r\n\tmargin-bottom: 8px;\r\n}\r\n\r\n#symptom >>> .img-upload .van-uploader__preview-delete {\r\n\tleft: -5px;\r\n\ttop: -5px;\r\n\twidth: 18px;\r\n\theight: 18px;\r\n\tbackground-color: #00cc96;\r\n\tborder-radius: 50%;\r\n\tborder: 2px solid #fff;\r\n}\r\n\r\n#symptom >>> .img-upload .van-uploader__preview-delete > i {\r\n\tline-height: 18px;\r\n\ttext-align: center;\r\n\ttop: 0;\r\n\tright: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tposition: relative;\r\n\ttransform: scale(1);\r\n}\r\n\r\n#symptom >>> .img-upload .van-uploader__preview-image img {\r\n\tborder-radius: 4px;\r\n}\r\n\r\n#symptom >>> .img-upload .uploader-description {\r\n\tposition: absolute;\r\n\theight: 80px;\r\n\ttop: 37px;\r\n\tleft: 110px;\r\n\tfont-size: 12px;\r\n\tline-height: 20px;\r\n\tcolor: #999;\r\n}\r\n\r\n#symptom >>> .top {\r\n\theight: 88px;\r\n\tpadding: 20px 15px;\r\n\tdisplay: flex;\r\n\tposition: relative;\r\n}\r\n#symptom >>> .top::before {\r\n\tposition: absolute;\r\n\tright: 16px;\r\n\tbottom: 0;\r\n\tleft: 16px;\r\n\tbox-sizing: border-box;\r\n\theight: 1px;\r\n\tbackground-color: #ebebeb;\r\n\tcontent: \"\";\r\n\ttransform: scaleY(0.5);\r\n}\r\n#symptom >>> .top > .plate {\r\n\twidth: 44px;\r\n\theight: 44px;\r\n\tborder-radius: 50%;\r\n\tflex: 1;\r\n}\r\n#symptom >>> .top > .plate2 {\r\n\tflex: 7;\r\n}\r\n#symptom >>> .top > div > img {\r\n\twidth: 100%;\r\n}\r\n#symptom >>> .top p {\r\n\tmargin: 0;\r\n\tmargin-left: 15px;\r\n\tfont-size: 15px;\r\n}\r\n#symptom >>> .top .texts {\r\n\theight: 44px;\r\n\tbackground-color: #f4f4f4;\r\n\tpadding: 10px 6px;\r\n\tmargin-top: 8px;\r\n\tcolor: #666;\r\n\tfont-size: 15px;\r\n}\r\n#symptom >>> .top .texts::before {\r\n\tposition: absolute;\r\n\tleft: 68px;\r\n\ttop: 58px;\r\n\tcontent: \"\";\r\n\tdisplay: block;\r\n\twidth: 12px;\r\n\theight: 10px;\r\n\tborder-radius: 50%;\r\n\tbackground-color: #f4f4f4;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/ask"}]}