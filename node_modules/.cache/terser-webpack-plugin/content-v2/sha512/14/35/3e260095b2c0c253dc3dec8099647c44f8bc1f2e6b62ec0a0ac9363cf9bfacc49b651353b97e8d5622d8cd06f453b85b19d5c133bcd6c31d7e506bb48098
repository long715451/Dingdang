{"map":{"version":3,"sources":["js/ask.bd0edfcc.js"],"names":["window","push","161f","module","exports","__webpack_require__","233d","__webpack_exports__","r","render","_vm","this","_h","$createElement","_c","_self","attrs","id","title","_m","type","placeholder","maxlength","show-word-limit","on","blur","saveMsg","model","value","callback","$$v","message","expression","staticClass","before-read","beforeRead","multiple","max-count","max-size","oversize","onOversize","fileList","_v","_e","click","showAnswer","size","color","round","next","show","overlayShow","src","closeBtn","staticRenderFns","toConsumableArray","toast","dialog","Askvue_type_script_lang_js_","data","isDescShow","watch","newVal","length","mounted","localStorage","getItem","setItem","$route","query","doctorid","methods","file","Object","_this","$store","state","userInfo","formData","FormData","forEach","item","byteString","atob","content","replace","mimeString","split","ab","ArrayBuffer","ia","Uint8Array","i","charCodeAt","blob","Blob","append","Date","now","user_id","parse","axios","post","then","res","code","symptom_id","$router","catch","reason","console","log","confirm","ask_Askvue_type_script_lang_js_","componentNormalizer","component","238f"],"mappings":"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"},"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"ask\"],{\"161f\":function(t,e,s){},\"233d\":function(t,e,s){\"use strict\";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{attrs:{id:\"symptom\"}},[s(\"my-navbar\",{attrs:{title:\"问医生\"}}),t._m(0),s(\"van-field\",{attrs:{type:\"textarea\",placeholder:\"简要描述你的年龄、性别及症状，我们将为你接通对症的专科医生，并确保隐私安全\",maxlength:\"500\",\"show-word-limit\":\"\"},on:{blur:t.saveMsg},model:{value:t.message,callback:function(e){t.message=e},expression:\"message\"}}),s(\"div\",{staticClass:\"img-upload\"},[s(\"van-uploader\",{attrs:{\"before-read\":t.beforeRead,multiple:\"\",\"max-count\":9,\"max-size\":10485760},on:{oversize:t.onOversize},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:\"fileList\"}}),t.isDescShow?s(\"div\",{staticClass:\"uploader-description\"},[t._v(\" 上传图片辅助说明病情 \"),s(\"br\"),t._v(\" 可上传 9 张 \")]):t._e(),s(\"van-cell\",{attrs:{value:\" 无法上传图片？ \"},on:{click:t.showAnswer}})],1),s(\"div\",{staticClass:\"next-btn\"},[s(\"van-button\",{attrs:{size:\"large\",color:\"#00c792\",round:\"\"},on:{click:t.next}},[t._v(\"下一步\")])],1),s(\"van-overlay\",{attrs:{show:t.overlayShow}},[s(\"div\",{staticClass:\"overlay-wrapper\"},[s(\"div\",{staticClass:\"tit\"},[t._v(\"请提问后通过丁香医生App上传图片\")]),s(\"div\",{staticClass:\"desc\"},[t._v(\" 由于第三方或浏览器版本限制，图片可能无法上传。请先提交问题。医生回复后，【下载丁香医生App在“我的问诊”内追问并上传图片】，点击下方链接进行下载（若无法下载，请复制链接到浏览器粘贴） \"),s(\"br\"),s(\"a\",{attrs:{src:\"https://app.dxy.cn/aspirin/index\"}},[t._v(\"https://app.dxy.cn/aspirin/index\")])]),s(\"div\",{staticClass:\"btn\",on:{click:t.closeBtn}},[t._v(\"我知道了\")])])])],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"top\"},[a(\"div\",{staticClass:\"plate\"},[a(\"img\",{attrs:{src:s(\"1105\")}})]),a(\"div\",{staticClass:\"plate2\"},[a(\"p\",[t._v(\"导诊医生\")]),a(\"p\",{staticClass:\"texts\"},[t._v(\" 请描述你的性别年龄、症状、就诊经历，我将竭诚为你治疗，并保证你的隐私安全 \")])])])}],n=(s(\"4160\"),s(\"c19f\"),s(\"d3b7\"),s(\"ac1f\"),s(\"5319\"),s(\"1276\"),s(\"5cc6\"),s(\"9a8c\"),s(\"a975\"),s(\"735e\"),s(\"c1ac\"),s(\"d139\"),s(\"3a7b\"),s(\"d5d6\"),s(\"82f8\"),s(\"e91f\"),s(\"60bd\"),s(\"5f96\"),s(\"3280\"),s(\"3fcc\"),s(\"ca91\"),s(\"25a1\"),s(\"cd26\"),s(\"3c5d\"),s(\"2954\"),s(\"649e\"),s(\"219c\"),s(\"170b\"),s(\"b39a\"),s(\"72f7\"),s(\"159b\"),s(\"2909\")),o=s(\"d399\"),c=s(\"2241\"),r={data:function(){return{message:\"\",fileList:[],isDescShow:!0,overlayShow:!1}},watch:{fileList:function(t){t.length>0?this.isDescShow=!1:this.isDescShow=!0}},mounted:function(){this.message=localStorage.getItem(\"symptomDesc\"),localStorage.setItem(\"askdoc\",this.$route.query.doctorid)},methods:{beforeRead:function(t){return\"image/jpeg\"===t.type||\"image/png\"===t.type||(Object(o[\"a\"])(\"请上传 jpg/png 格式图片\"),!1)},onOversize:function(){Object(o[\"a\"])(\"文件大小不能超过10M\")},saveMsg:function(){localStorage.setItem(\"symptomDesc\",this.message)},showAnswer:function(){this.overlayShow=!0},next:function(){var t=this;if(this.$store.state.userInfo){if(this.message.length<=10)return Object(o[\"a\"])(\"请至少输入10个字\"),!1;var e=new FormData;Object(n[\"a\"])(this.fileList).forEach((function(t){for(var s=atob(t.content.replace(/^data:image\\/\\w+;base64,/,\"\")),a=t.content.split(\",\")[0].split(\":\")[1].split(\";\")[0],i=new ArrayBuffer(s.length),n=new Uint8Array(i),o=0;o<s.length;o++)n[o]=s.charCodeAt(o);var c=new Blob([n],{type:a});e.append(\"uploadFile\",c,Date.now()+\".jpg\")})),e.append(\"userid\",this.$store.state.userInfo.user_id),e.append(\"desc\",this.message),e.append(\"create_at\",Date.parse(new Date)),this.axios.post(\"/emgcall/addsymptomimg\",e).then((function(e){0==e.data.code?(localStorage.setItem(\"symid\",e.data.data.symptom_id),t.$router.push(\"/ask/patient-list\")):Object(o[\"a\"])(e.data.message)})).catch((function(t){console.log(t)}))}else c[\"a\"].confirm({title:\"未登录\",message:\"是否前往登录？\"}).then((function(){t.$router.push(\"/login\")})).catch((function(){}))},closeBtn:function(){this.overlayShow=!1}}},l=r,d=(s(\"238f\"),s(\"2877\")),p=Object(d[\"a\"])(l,a,i,!1,null,\"6ffae510\",null);e[\"default\"]=p.exports},\"238f\":function(t,e,s){\"use strict\";s(\"161f\")}}]);","extractedComments":[]}