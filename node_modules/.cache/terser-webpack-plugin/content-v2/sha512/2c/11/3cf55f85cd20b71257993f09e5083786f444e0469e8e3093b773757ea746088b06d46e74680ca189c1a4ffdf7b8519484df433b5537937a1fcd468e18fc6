{"map":{"version":3,"sources":["js/search.f2eb7c3e.js"],"names":["window","push","2d3b","module","__webpack_exports__","__webpack_require__","r","render","_vm","this","_h","$createElement","_c","_self","attrs","id","title","staticClass","placeholder","shape","show-action","autofocus","scopedSlots","_u","key","fn","src","alt","proxy","on","click","onSearch","_v","model","value","callback","$$v","searchVal","expression","color","active","name","left-text","border","click-right","onClickRight","size","_e","_l","item","index","$event","setActive","_s","subject","content","description","imgurl","img","url","nickname","describe","committime","quesid","to","hospitalname","address","hospitallevel","doctorid","staticRenderFns","toast","Searchvue_type_script_lang_js_","data","doctorlist","tables","questions","articles","historyShow","keywords","methods","_this","historys","historyStr","decodeURI","localStorage","getItem","split","length","shift","arr","filter","setItem","encodeURI","join","searchCategory","axios","get","concat","params","keyword","then","resData","code","Object","message","catch","reason","console","log","removeItem","mounted","parseInt","$route","query","views_Searchvue_type_script_lang_js_","componentNormalizer","component","81b4","a438","exports"],"mappings":"CAACA,OAAO,gBAAkBA,OAAO,iBAAmB,IAAIC,KAAK,CAAC,CAAC,UAAU,CAEnEC,OACA,SAAUC,EAAQC,EAAqBC,GAE7C,aAEAA,EAAoBC,EAAEF,GAGtB,IAAIG,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAACC,GAAK,WAAW,CAACH,EAAG,YAAY,CAACE,MAAM,CAACE,MAAQ,QAAQJ,EAAG,MAAM,CAACK,YAAY,iBAAiB,CAACL,EAAG,aAAa,CAACE,MAAM,CAACI,YAAc,gBAAgBC,MAAQ,QAAQC,cAAc,GAAGC,WAAY,GAAMC,YAAYd,EAAIe,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,WAAW,MAAO,CAACb,EAAG,MAAM,CAACE,MAAM,CAACY,IAAMrB,EAAoB,QAAQsB,IAAM,QAAQC,OAAM,GAAM,CAACJ,IAAI,SAASC,GAAG,WAAW,MAAO,CAACb,EAAG,MAAM,CAACiB,GAAG,CAACC,MAAQtB,EAAIuB,WAAW,CAACvB,EAAIwB,GAAG,UAAUJ,OAAM,KAAQK,MAAM,CAACC,MAAO1B,EAAa,UAAE2B,SAAS,SAAUC,GAAM5B,EAAI6B,UAAUD,GAAKE,WAAW,gBAAgB,GAAG1B,EAAG,WAAW,CAACK,YAAY,aAAaH,MAAM,CAACyB,MAAQ,WAAWN,MAAM,CAACC,MAAO1B,EAAU,OAAE2B,SAAS,SAAUC,GAAM5B,EAAIgC,OAAOJ,GAAKE,WAAW,WAAW,CAAC1B,EAAG,UAAU,CAACE,MAAM,CAACE,MAAQ,KAAKyB,KAAO,KAAK7B,EAAG,UAAU,CAACE,MAAM,CAACE,MAAQ,KAAKyB,KAAO,KAAK7B,EAAG,UAAU,CAACE,MAAM,CAACE,MAAQ,KAAKyB,KAAO,KAAK7B,EAAG,UAAU,CAACE,MAAM,CAACE,MAAQ,KAAKyB,KAAO,MAAM,GAAIjC,EAAe,YAAEI,EAAG,cAAc,CAACE,MAAM,CAAC4B,YAAY,OAAOC,QAAS,GAAOd,GAAG,CAACe,cAAcpC,EAAIqC,cAAcvB,YAAYd,EAAIe,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACb,EAAG,WAAW,CAACE,MAAM,CAAC2B,KAAO,WAAWF,MAAQ,UAAUO,KAAO,UAAUlB,OAAM,IAAO,MAAK,EAAM,cAAcpB,EAAIuC,KAAMvC,EAAe,YAAEI,EAAG,MAAM,CAACK,YAAY,kBAAkBT,EAAIwC,GAAIxC,EAAY,UAAE,SAASyC,EAAKC,GAAO,OAAOtC,EAAG,UAAU,CAACY,IAAI0B,EAAMpC,MAAM,CAACgC,KAAO,SAASjB,GAAG,CAACC,MAAQ,SAASqB,GAAQ,OAAO3C,EAAI4C,UAAUH,MAAS,CAACzC,EAAIwB,GAAG,IAAIxB,EAAI6C,GAAGJ,GAAM,UAAS,GAAGzC,EAAIuC,KAAoB,GAAdvC,EAAIgC,OAAa5B,EAAG,MAAM,CAACK,YAAY,oBAAoBT,EAAIwC,GAAIxC,EAAY,UAAE,SAASyC,EAAKC,GAAO,OAAOtC,EAAG,eAAe,CAACY,IAAI0B,EAAMpC,MAAM,CAACE,MAAQiC,EAAKK,QAAQC,QAAUN,EAAKO,YAAYC,OAASR,EAAKS,IAAIC,IAAMnD,EAAImD,IAAM,IAAOV,EAAe,iBAAO,GAAGzC,EAAIuC,KAAoB,GAAdvC,EAAIgC,OAAa5B,EAAG,MAAM,CAACK,YAAY,qBAAqBT,EAAIwC,GAAIxC,EAAa,WAAE,SAASyC,EAAKC,GAAO,OAAOtC,EAAG,gBAAgB,CAACY,IAAI0B,EAAMpC,MAAM,CAAC2C,OAASR,EAAKQ,OAAOG,SAAWX,EAAKW,SAASC,SAAWZ,EAAKY,SAASC,WAAab,EAAKa,WAAWZ,MAAQD,EAAKc,aAAY,GAAGvD,EAAIuC,KAAoB,GAAdvC,EAAIgC,OAAa5B,EAAG,MAAM,CAACK,YAAY,oBAAoBT,EAAIwC,GAAIxC,EAAU,QAAE,SAASyC,EAAKC,GAAO,OAAOtC,EAAG,cAAc,CAACY,IAAI0B,EAAMpC,MAAM,CAACkD,GAAM,qBAAwBf,EAAgB,cAAK,CAACrC,EAAG,MAAM,CAACE,MAAM,CAACC,GAAK,UAAU,CAACH,EAAG,MAAM,CAACK,YAAY,QAAQ,CAACL,EAAG,IAAI,CAACK,YAAY,SAAS,CAACT,EAAIwB,GAAGxB,EAAI6C,GAAGJ,EAAKgB,iBAAiBrD,EAAG,IAAI,CAACK,YAAY,WAAW,CAACT,EAAIwB,GAAGxB,EAAI6C,GAAGJ,EAAKiB,cAActD,EAAG,IAAI,CAACK,YAAY,YAAY,CAACT,EAAIwB,GAAGxB,EAAI6C,GAAGJ,EAAKkB,yBAAwB,GAAG3D,EAAIuC,KAAoB,GAAdvC,EAAIgC,OAAa5B,EAAG,MAAM,CAACK,YAAY,cAAcT,EAAIwC,GAAIxC,EAAc,YAAE,SAASyC,EAAKC,GAAO,OAAOtC,EAAG,cAAc,CAACY,IAAI0B,EAAMpC,MAAM,CAACsD,SAAWnB,EAAKmB,eAAc,GAAG5D,EAAIuC,MAAM,IAC9sFsB,EAAkB,GAkBlBC,GAZkBjE,EAAoB,QAGtBA,EAAoB,QAGnBA,EAAoB,QAGnBA,EAAoB,QAG9BA,EAAoB,SA+FCkE,EAAiC,CAChEC,KAAM,WACJ,MAAO,CACLC,WAAY,GACZC,OAAQ,GACRC,UAAW,GACXC,SAAU,GACVC,aAAa,EACbxC,UAAW,GACXG,OAAQ,EACRsC,SAAU,GACVnB,IAAK,aAGToB,QAAS,CACPhD,SAAU,WACR,IAAIiD,EAAQvE,KAEZ,GAAsB,IAAlBA,KAAK4B,UACP,OAAO,EAGT,IAAI4C,EAAW,GACXC,EAAaC,UAAUC,aAAaC,QAAQ,kBAE9B,QAAdH,IACFD,EAAWC,EAAWI,MAAM,MAG1BL,EAASM,OAAS,GACpBN,EAASO,QAGX,IAAIC,EAAMR,EAASS,QAAO,SAAUzC,GAClC,OAAOA,GAAQ+B,EAAM3C,aAGL,GAAdoD,EAAIF,QACNN,EAAShF,KAAKQ,KAAK4B,WAGrB+C,aAAaO,QAAQ,gBAAiBC,UAAUX,EAASY,KAAK,OAC9D,IAAIC,EAAiB,GAErB,OAAQrF,KAAK+B,QACX,KAAK,EACHsD,EAAiB,UACjB,MAEF,KAAK,EACHA,EAAiB,WACjB,MAEF,KAAK,EACHA,EAAiB,WACjB,MAEF,KAAK,EACHA,EAAiB,SACjB,MAGJrF,KAAKsF,MAAMC,IAAI,WAAWC,OAAOH,GAAiB,CAChDI,OAAQ,CACNC,QAAS1F,KAAK4B,aAEf+D,MAAK,SAAUlE,GAChB,IAAImE,EAAUnE,EAAMsC,KAEA,GAAhB6B,EAAQC,KACU,GAAhBtB,EAAMxC,OACRwC,EAAMJ,SAAWyB,EAAQ7B,KACA,GAAhBQ,EAAMxC,OACfwC,EAAML,UAAY0B,EAAQ7B,KACD,GAAhBQ,EAAMxC,OACfwC,EAAMN,OAAS2B,EAAQ7B,KACE,GAAhBQ,EAAMxC,SACfwC,EAAMP,WAAa4B,EAAQ7B,MAG7B+B,OAAOjC,EAAM,KAAbiC,CAAiCF,EAAQG,YAE1CC,OAAM,SAAUC,GACjBC,QAAQC,IAAIF,OAGhBtD,UAAW,SAAmBX,GAC5BhC,KAAK4B,UAAYI,GAEnBI,aAAc,WACZuC,aAAayB,WAAW,iBACxBpG,KAAKoE,aAAc,IAGvBiC,QAAS,WACPrG,KAAK+B,OAASuE,SAAStG,KAAKuG,OAAOC,MAAMzE,QAErC4C,aAAaC,QAAQ,mBACvB5E,KAAKoE,aAAc,EACnBpE,KAAKqE,SAAWK,UAAUC,aAAaC,QAAQ,kBAAkBC,MAAM,QAK3C4B,EAAuC,EAKrEC,GAHiE9G,EAAoB,QAG/DA,EAAoB,SAW1C+G,EAAYb,OAAOY,EAAoB,KAA3BZ,CACdW,EACA3G,EACA8D,GACA,EACA,KACA,WACA,MAIwCjE,EAAoB,WAAcgH,EAAiB,SAIvFC,OACA,SAAUlH,EAAQC,EAAqBC,GAE7C,aAC2cA,EAAoB,SAOzdiH,KACA,SAAUnH,EAAQoH,EAASlH"},"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"search\"],{\"2d3b\":function(t,e,a){\"use strict\";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{attrs:{id:\"search\"}},[s(\"my-navbar\",{attrs:{title:\"搜索\"}}),s(\"div\",{staticClass:\"search-header\"},[s(\"van-search\",{attrs:{placeholder:\"搜索文章/医生/医院/疾病\",shape:\"round\",\"show-action\":\"\",autofocus:!0},scopedSlots:t._u([{key:\"left-icon\",fn:function(){return[s(\"img\",{attrs:{src:a(\"b07f\"),alt:\"\"}})]},proxy:!0},{key:\"action\",fn:function(){return[s(\"div\",{on:{click:t.onSearch}},[t._v(\"搜索\")])]},proxy:!0}]),model:{value:t.searchVal,callback:function(e){t.searchVal=e},expression:\"searchVal\"}})],1),s(\"van-tabs\",{staticClass:\"select-tab\",attrs:{color:\"#00c792\"},model:{value:t.active,callback:function(e){t.active=e},expression:\"active\"}},[s(\"van-tab\",{attrs:{title:\"文章\",name:1}}),s(\"van-tab\",{attrs:{title:\"问题\",name:2}}),s(\"van-tab\",{attrs:{title:\"医院\",name:3}}),s(\"van-tab\",{attrs:{title:\"医生\",name:4}})],1),t.historyShow?s(\"van-nav-bar\",{attrs:{\"left-text\":\"历史搜索\",border:!1},on:{\"click-right\":t.onClickRight},scopedSlots:t._u([{key:\"right\",fn:function(){return[s(\"van-icon\",{attrs:{name:\"delete-o\",color:\"#646566\",size:\"20\"}})]},proxy:!0}],null,!1,1476229759)}):t._e(),t.historyShow?s(\"div\",{staticClass:\"questions-tags\"},t._l(t.keywords,(function(e,a){return s(\"van-tag\",{key:a,attrs:{size:\"large\"},on:{click:function(a){return t.setActive(e)}}},[t._v(\" \"+t._s(e)+\" \")])})),1):t._e(),1==t.active?s(\"div\",{staticClass:\"articles-content\"},t._l(t.articles,(function(e,a){return s(\"article-list\",{key:a,attrs:{title:e.subject,content:e.description,imgurl:e.img,url:t.url+\"/\"+e.article_id}})})),1):t._e(),2==t.active?s(\"div\",{staticClass:\"questions-content\"},t._l(t.questions,(function(t,e){return s(\"question-list\",{key:e,attrs:{imgurl:t.imgurl,nickname:t.nickname,describe:t.describe,committime:t.committime,index:t.quesid}})})),1):t._e(),3==t.active?s(\"div\",{staticClass:\"hospital-content\"},t._l(t.tables,(function(e,a){return s(\"router-link\",{key:a,attrs:{to:\"/details?hospital=\"+e.hospital_id}},[s(\"div\",{attrs:{id:\"table\"}},[s(\"div\",{staticClass:\"file\"},[s(\"p\",{staticClass:\"title\"},[t._v(t._s(e.hospitalname))]),s(\"p\",{staticClass:\"article\"},[t._v(t._s(e.address))])]),s(\"p\",{staticClass:\"category\"},[t._v(t._s(e.hospitallevel))])])])})),1):t._e(),4==t.active?s(\"div\",{staticClass:\"doctor-box\"},t._l(t.doctorlist,(function(t,e){return s(\"doctor-card\",{key:e,attrs:{doctorid:t.doctorid}})})),1):t._e()],1)},i=[],c=(a(\"4de4\"),a(\"a15b\"),a(\"ac1f\"),a(\"1276\"),a(\"d399\")),r={data:function(){return{doctorlist:[],tables:[],questions:[],articles:[],historyShow:!1,searchVal:\"\",active:1,keywords:[],url:\"/article\"}},methods:{onSearch:function(){var t=this;if(\"\"==this.searchVal)return!1;var e=[],a=decodeURI(localStorage.getItem(\"serachhistory\"));\"null\"!=a&&(e=a.split(\",\")),e.length>5&&e.shift();var s=e.filter((function(e){return e==t.searchVal}));0==s.length&&e.push(this.searchVal),localStorage.setItem(\"serachhistory\",encodeURI(e.join(\",\")));var i=\"\";switch(this.active){case 1:i=\"article\";break;case 2:i=\"question\";break;case 3:i=\"hospital\";break;case 4:i=\"doctor\";break}this.axios.get(\"/search/\".concat(i),{params:{keyword:this.searchVal}}).then((function(e){var a=e.data;0==a.code?1==t.active?t.articles=a.data:2==t.active?t.questions=a.data:3==t.active?t.tables=a.data:4==t.active&&(t.doctorlist=a.data):Object(c[\"a\"])(a.message)})).catch((function(t){console.log(t)}))},setActive:function(t){this.searchVal=t},onClickRight:function(){localStorage.removeItem(\"serachhistory\"),this.historyShow=!1}},mounted:function(){this.active=parseInt(this.$route.query.active),localStorage.getItem(\"serachhistory\")&&(this.historyShow=!0,this.keywords=decodeURI(localStorage.getItem(\"serachhistory\")).split(\",\"))}},o=r,n=(a(\"81b4\"),a(\"2877\")),l=Object(n[\"a\"])(o,s,i,!1,null,\"31a82929\",null);e[\"default\"]=l.exports},\"81b4\":function(t,e,a){\"use strict\";a(\"a438\")},a438:function(t,e,a){}}]);","extractedComments":[]}