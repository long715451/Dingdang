{"map":{"version":3,"sources":["js/symptom.f6ec52d0.js"],"names":["window","push","40c5","module","__webpack_exports__","__webpack_require__","7953","exports","ec07","r","render","_vm","this","_h","$createElement","_c","_self","attrs","id","title","src","alt","type","placeholder","maxlength","show-word-limit","on","blur","saveMsg","model","value","callback","$$v","message","expression","staticClass","multiple","max-count","max-size","before-read","beforeRead","oversize","onOversize","fileList","_v","_e","click","showAnswer","size","color","round","next","show","overlayShow","closeBtn","staticRenderFns","toConsumableArray","toast","dialog","Symptomvue_type_script_lang_js_","data","isDescShow","watch","newVal","length","mounted","localStorage","getItem","methods","file","$toast","Object","setItem","_this","$store","state","userInfo","formData","FormData","forEach","item","byteString","atob","content","replace","mimeString","split","ab","ArrayBuffer","ia","Uint8Array","i","charCodeAt","blob","Blob","append","Date","now","user_id","parse","axios","post","then","res","code","symptom_id","$router","catch","reason","console","log","confirm","emgcall_Symptomvue_type_script_lang_js_","componentNormalizer","component"],"mappings":"CAACA,OAAO,gBAAkBA,OAAO,iBAAmB,IAAIC,KAAK,CAAC,CAAC,WAAW,CAEpEC,OACA,SAAUC,EAAQC,EAAqBC,GAE7C,aAC4cA,EAAoB,SAO1dC,KACA,SAAUH,EAAQI,EAASF,KAM3BG,KACA,SAAUL,EAAQC,EAAqBC,GAE7C,aAEAA,EAAoBI,EAAEL,GAGtB,IAAIM,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAACC,GAAK,YAAY,CAACH,EAAG,YAAY,CAACE,MAAM,CAACE,MAAQ,UAAUJ,EAAG,MAAM,CAACE,MAAM,CAACG,IAAMf,EAAoB,QAAQgB,IAAM,MAAMN,EAAG,YAAY,CAACE,MAAM,CAACK,KAAO,WAAWC,YAAc,wCAAwCC,UAAY,MAAMC,kBAAkB,IAAIC,GAAG,CAACC,KAAOhB,EAAIiB,SAASC,MAAM,CAACC,MAAOnB,EAAW,QAAEoB,SAAS,SAAUC,GAAMrB,EAAIsB,QAAQD,GAAKE,WAAW,aAAanB,EAAG,MAAM,CAACoB,YAAY,cAAc,CAACpB,EAAG,eAAe,CAACE,MAAM,CAACmB,SAAW,GAAGC,YAAY,EAAEC,WAAW,SAAiBC,cAAc5B,EAAI6B,YAAYd,GAAG,CAACe,SAAW9B,EAAI+B,YAAYb,MAAM,CAACC,MAAOnB,EAAY,SAAEoB,SAAS,SAAUC,GAAMrB,EAAIgC,SAASX,GAAKE,WAAW,cAAevB,EAAc,WAAEI,EAAG,MAAM,CAACoB,YAAY,wBAAwB,CAACxB,EAAIiC,GAAG,gBAAgB7B,EAAG,MAAMJ,EAAIiC,GAAG,eAAejC,EAAIkC,KAAK9B,EAAG,WAAW,CAACE,MAAM,CAACa,MAAQ,aAAaJ,GAAG,CAACoB,MAAQnC,EAAIoC,eAAe,GAAGhC,EAAG,MAAM,CAACoB,YAAY,YAAY,CAACpB,EAAG,aAAa,CAACE,MAAM,CAAC+B,KAAO,QAAQC,MAAQ,UAAUC,MAAQ,IAAIxB,GAAG,CAACoB,MAAQnC,EAAIwC,OAAO,CAACxC,EAAIiC,GAAG,UAAU,GAAG7B,EAAG,cAAc,CAACE,MAAM,CAACmC,KAAOzC,EAAI0C,cAAc,CAACtC,EAAG,MAAM,CAACoB,YAAY,mBAAmB,CAACpB,EAAG,MAAM,CAACoB,YAAY,OAAO,CAACxB,EAAIiC,GAAG,uBAAuB7B,EAAG,MAAM,CAACoB,YAAY,QAAQ,CAACxB,EAAIiC,GAAG,kGAAkG7B,EAAG,MAAMA,EAAG,IAAI,CAACE,MAAM,CAACG,IAAM,qCAAqC,CAACT,EAAIiC,GAAG,wCAAwC7B,EAAG,MAAM,CAACoB,YAAY,MAAMT,GAAG,CAACoB,MAAQnC,EAAI2C,WAAW,CAAC3C,EAAIiC,GAAG,eAAe,IACzjDW,EAAkB,GAmGlBC,GA7FoBnD,EAAoB,QAGVA,EAAoB,QAG5BA,EAAoB,QAGzBA,EAAoB,QAGjBA,EAAoB,QAGtBA,EAAoB,QAGTA,EAAoB,QAGpBA,EAAoB,QAG1BA,EAAoB,QAGrBA,EAAoB,QAGlBA,EAAoB,QAGtBA,EAAoB,QAGdA,EAAoB,QAGtBA,EAAoB,QAGpBA,EAAoB,QAGpBA,EAAoB,QAGpBA,EAAoB,QAGxBA,EAAoB,QAGXA,EAAoB,QAG9BA,EAAoB,QAGjBA,EAAoB,QAGdA,EAAoB,QAGzBA,EAAoB,QAGxBA,EAAoB,QAGlBA,EAAoB,QAGrBA,EAAoB,QAGpBA,EAAoB,QAGhBA,EAAoB,QAGZA,EAAoB,QAG3BA,EAAoB,QAGhBA,EAAoB,QAG/BA,EAAoB,SAGxCoD,EAAQpD,EAAoB,QAG5BqD,EAASrD,EAAoB,QAiFAsD,EAAkC,CACjEC,KAAM,WACJ,MAAO,CACL3B,QAAS,GACTU,SAAU,GACVkB,YAAY,EACZR,aAAa,IAGjBS,MAAO,CACLnB,SAAU,SAAkBoB,GACtBA,EAAOC,OAAS,EAClBpD,KAAKiD,YAAa,EAElBjD,KAAKiD,YAAa,IAIxBI,QAAS,WACPrD,KAAKqB,QAAUiC,aAAaC,QAAQ,gBAEtCC,QAAS,CACP5B,WAAY,SAAoB6B,GAC9B,MAAkB,eAAdA,EAAK/C,MAAuC,cAAd+C,EAAK/C,OACrCV,KAAK0D,OAAO,qBACL,IAKX5B,WAAY,WACV6B,OAAOd,EAAM,KAAbc,CAAiC,gBAEnC3C,QAAS,WACPsC,aAAaM,QAAQ,cAAe5D,KAAKqB,UAE3Cc,WAAY,WACVnC,KAAKyC,aAAc,GAErBF,KAAM,WACJ,IAAIsB,EAAQ7D,KAEZ,GAAKA,KAAK8D,OAAOC,MAAMC,SAAvB,CAWA,GAAIhE,KAAKqB,QAAQ+B,QAAU,GAEzB,OADAO,OAAOd,EAAM,KAAbc,CAAiC,cAC1B,EAGT,IAAIM,EAAW,IAAIC,SAEnBP,OAAOf,EAAkB,KAAzBe,CAA6C3D,KAAK+B,UAAUoC,SAAQ,SAAUC,GAM5E,IALA,IAAIC,EAAaC,KAAKF,EAAKG,QAAQC,QAAQ,2BAA4B,KACnEC,EAAaL,EAAKG,QAAQG,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAAK,GACjEC,EAAK,IAAIC,YAAYP,EAAWjB,QAChCyB,EAAK,IAAIC,WAAWH,GAEfI,EAAI,EAAGA,EAAIV,EAAWjB,OAAQ2B,IACrCF,EAAGE,GAAKV,EAAWW,WAAWD,GAGhC,IAAIE,EAAO,IAAIC,KAAK,CAACL,GAAK,CACxBnE,KAAM+D,IAERR,EAASkB,OAAO,aAAcF,EAAMG,KAAKC,MAAQ,WAMnDpB,EAASkB,OAAO,SAAUnF,KAAK8D,OAAOC,MAAMC,SAASsB,SACrDrB,EAASkB,OAAO,OAAQnF,KAAKqB,SAC7B4C,EAASkB,OAAO,YAAaC,KAAKG,MAAM,IAAIH,OAC5CpF,KAAKwF,MAAMC,KAAK,yBAA0BxB,GAAUyB,MAAK,SAAUC,GAC5C,GAAjBA,EAAI3C,KAAK4C,MACXtC,aAAaM,QAAQ,QAAS+B,EAAI3C,KAAKA,KAAK6C,YAE5ChC,EAAMiC,QAAQzG,KAAK,0BAEnBsE,OAAOd,EAAM,KAAbc,CAAiCgC,EAAI3C,KAAK3B,YAE3C0E,OAAM,SAAUC,GACjBC,QAAQC,IAAIF,WAhDZlD,EAAO,KAAmBqD,QAAQ,CAChC5F,MAAO,MACPc,QAAS,YACRqE,MAAK,WACN7B,EAAMiC,QAAQzG,KAAK,aAClB0G,OAAM,gBA8CbrD,SAAU,WACR1C,KAAKyC,aAAc,KAKS2D,EAA0C,EAKxEC,GAHkE5G,EAAoB,QAGhEA,EAAoB,SAW1C6G,EAAY3C,OAAO0C,EAAoB,KAA3B1C,CACdyC,EACAtG,EACA6C,GACA,EACA,KACA,WACA,MAIyCnD,EAAoB,WAAc8G,EAAiB"},"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"symptom\"],{\"40c5\":function(t,e,a){\"use strict\";a(\"7953\")},7953:function(t,e,a){},ec07:function(t,e,a){\"use strict\";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{attrs:{id:\"symptom\"}},[s(\"my-navbar\",{attrs:{title:\"电话急诊\"}}),s(\"img\",{attrs:{src:a(\"0d0a\"),alt:\"\"}}),s(\"van-field\",{attrs:{type:\"textarea\",placeholder:\"简要描述你的年龄、性别及症状，我们将为你接通对症的专科医生，并确保隐私安全\",maxlength:\"500\",\"show-word-limit\":\"\"},on:{blur:t.saveMsg},model:{value:t.message,callback:function(e){t.message=e},expression:\"message\"}}),s(\"div\",{staticClass:\"img-upload\"},[s(\"van-uploader\",{attrs:{multiple:\"\",\"max-count\":9,\"max-size\":10485760,\"before-read\":t.beforeRead},on:{oversize:t.onOversize},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:\"fileList\"}}),t.isDescShow?s(\"div\",{staticClass:\"uploader-description\"},[t._v(\" 上传图片辅助说明病情 \"),s(\"br\"),t._v(\" 可上传 9 张 \")]):t._e(),s(\"van-cell\",{attrs:{value:\" 无法上传图片？ \"},on:{click:t.showAnswer}})],1),s(\"div\",{staticClass:\"next-btn\"},[s(\"van-button\",{attrs:{size:\"large\",color:\"#00c792\",round:\"\"},on:{click:t.next}},[t._v(\"下一步\")])],1),s(\"van-overlay\",{attrs:{show:t.overlayShow}},[s(\"div\",{staticClass:\"overlay-wrapper\"},[s(\"div\",{staticClass:\"tit\"},[t._v(\"请提问后通过丁香医生App上传图片\")]),s(\"div\",{staticClass:\"desc\"},[t._v(\" 由于第三方或浏览器版本限制，图片可能无法上传。请先提交问题。医生回复后，【下载丁香医生App在“我的问诊”内追问并上传图片】，点击下方链接进行下载（若无法下载，请复制链接到浏览器粘贴） \"),s(\"br\"),s(\"a\",{attrs:{src:\"https://app.dxy.cn/aspirin/index\"}},[t._v(\"https://app.dxy.cn/aspirin/index\")])]),s(\"div\",{staticClass:\"btn\",on:{click:t.closeBtn}},[t._v(\"我知道了\")])])])],1)},i=[],n=(a(\"4160\"),a(\"c19f\"),a(\"d3b7\"),a(\"ac1f\"),a(\"5319\"),a(\"1276\"),a(\"5cc6\"),a(\"9a8c\"),a(\"a975\"),a(\"735e\"),a(\"c1ac\"),a(\"d139\"),a(\"3a7b\"),a(\"d5d6\"),a(\"82f8\"),a(\"e91f\"),a(\"60bd\"),a(\"5f96\"),a(\"3280\"),a(\"3fcc\"),a(\"ca91\"),a(\"25a1\"),a(\"cd26\"),a(\"3c5d\"),a(\"2954\"),a(\"649e\"),a(\"219c\"),a(\"170b\"),a(\"b39a\"),a(\"72f7\"),a(\"159b\"),a(\"2909\")),o=a(\"d399\"),c=a(\"2241\"),r={data:function(){return{message:\"\",fileList:[],isDescShow:!0,overlayShow:!1}},watch:{fileList:function(t){t.length>0?this.isDescShow=!1:this.isDescShow=!0}},mounted:function(){this.message=localStorage.getItem(\"symptomDesc\")},methods:{beforeRead:function(t){return\"image/jpeg\"===t.type||\"image/png\"===t.type||(this.$toast(\"请上传 jpg/png 格式图片\"),!1)},onOversize:function(){Object(o[\"a\"])(\"文件大小不能超过10M\")},saveMsg:function(){localStorage.setItem(\"symptomDesc\",this.message)},showAnswer:function(){this.overlayShow=!0},next:function(){var t=this;if(this.$store.state.userInfo){if(this.message.length<=10)return Object(o[\"a\"])(\"请至少输入10个字\"),!1;var e=new FormData;Object(n[\"a\"])(this.fileList).forEach((function(t){for(var a=atob(t.content.replace(/^data:image\\/\\w+;base64,/,\"\")),s=t.content.split(\",\")[0].split(\":\")[1].split(\";\")[0],i=new ArrayBuffer(a.length),n=new Uint8Array(i),o=0;o<a.length;o++)n[o]=a.charCodeAt(o);var c=new Blob([n],{type:s});e.append(\"uploadFile\",c,Date.now()+\".jpg\")})),e.append(\"userid\",this.$store.state.userInfo.user_id),e.append(\"desc\",this.message),e.append(\"create_at\",Date.parse(new Date)),this.axios.post(\"/emgcall/addsymptomimg\",e).then((function(e){0==e.data.code?(localStorage.setItem(\"symid\",e.data.data.symptom_id),t.$router.push(\"/emgcall/patient-list\")):Object(o[\"a\"])(e.data.message)})).catch((function(t){console.log(t)}))}else c[\"a\"].confirm({title:\"未登录\",message:\"是否前往登录？\"}).then((function(){t.$router.push(\"/login\")})).catch((function(){}))},closeBtn:function(){this.overlayShow=!1}}},l=r,d=(a(\"40c5\"),a(\"2877\")),p=Object(d[\"a\"])(l,s,i,!1,null,\"1062f959\",null);e[\"default\"]=p.exports}}]);","extractedComments":[]}